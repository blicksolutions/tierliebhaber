<!DOCTYPE html>
<html lang="{{ locale }}" dir="{{ direction }}" class="{{ checkout_html_classes }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0, user-scalable=0">
    <meta name="referrer" content="origin">

    <title>{{ page_title }}</title>

    <script src="https://www.googleoptimize.com/optimize.js?id=OPT-TPGZ46W"></script>
    <script>
      var checkout = {
        {%- if content_for_layout contains 'data-step="contact_information"' -%}
          step: 'contact_information'
        {%- else -%}
          step: null
        {%- endif -%}
      };

      window.dataLayer.push({
        event: 'experiment:triggered',
        'exp.event.type': 'checkout:' + checkout.step,
        'exp.cart.itemCount': {{ checkout.line_items.size }},
      });
    </script>

    {{ content_for_header }}

    {{ checkout_stylesheets }}

    {%- render 'head-styles', layout: 'checkout' -%}

    {{ checkout_scripts }}

    <script>
      window.tierliebhaber = {
        checkout: {
          shippingAddress: {
            address1: {{ checkout.shipping_address.address1 | json }}
          }
        },
        i18n: {
          checkout: {
            addressValidator: {
              address1: {
                missingCivicNumber: {{ 'checkout.address_validator.address1.missing_civic_number' | t | json }}
              },
              errorModal: {
                title: {{ 'checkout.address_validator.error_modal.title' | t | json }},
                text: {{ 'checkout.address_validator.error_modal.text' | t | json }},
                buttonText: {{ 'checkout.address_validator.error_modal.button_text' | t | json }}
              }
            }
          }
        }
      };
    </script>
    
    {%- render 'head-scripts', layout: 'checkout' -%}
  </head>
  <body>
    {{ skip_to_content_link }}

    <header class="banner" data-header role="banner">
      <div class="wrap">
        {{ content_for_logo }}
      </div>
    </header>

    {{ order_summary_toggle }}
    <div class="content" data-content>
      <div class="wrap">
        <div class="main">
          <header class="main__header" role="banner">
            {{ content_for_logo }}
            {{ breadcrumb }}
            {{ alternative_payment_methods }}
          </header>
          <main class="main__content" role="main">
            {{ content_for_layout }}
          </main>
          <footer class="main__footer" role="contentinfo">
            {{ content_for_footer }}
          </footer>
        </div>
        <aside class="sidebar" role="complementary">
          <div class="sidebar__header">
            {{ content_for_logo }}
          </div>
          <div class="sidebar__content">
            {{ content_for_order_summary }}
          </div>
        </aside>
      </div>
    </div>

    {{ tracking_code }}
  </body>
</html>
