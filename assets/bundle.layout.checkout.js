(()=>{"use strict";var e={550:(e,t,n)=>{n.r(t),n.d(t,{VALIDATION_ERROR:()=>r});var r="ValidationError"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function o(e,t,n){return(o=i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=n(550).VALIDATION_ERROR,u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var n,r,o=(n=u,r=i(),function(){var e,o=l(n);if(r){var i=l(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return t(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=o.call(this,e)).name=s,t}return u}(r(Error)),c=n(550);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=document.querySelector("form[data-customer-information-form]"),this.continueButton=document.querySelector("#continue_button"),this.fields=[],this.registerFields(t),"contact_information"===window.Shopify.Checkout.step&&this.form&&(this.form.addEventListener("submit",(function(e){return n.handleSubmit(e)})),-1!==window.location.search.indexOf("address_error"))){var r=window.location.search.split("&").find((function(e){return-1!==e.indexOf("address_error")})).split("=")[1],o=this.fields.find((function(e){return e.id===r}));if(!o)return;var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),o.element.dispatchEvent(i),setTimeout((function(){o.element.focus(),o.element.selectionStart=o.element.value.length}),500)}}var t,n;return t=e,(n=[{key:"handleSubmit",value:function(e){var t=this;this.fields.forEach((function(e){t.validateField(e)}));var n=this.fields.filter((function(e){return e.errors.length>0}));return 0===n.length||(e.preventDefault(),requestAnimationFrame((function(){t.continueButton.classList.remove("btn--loading"),t.continueButton.setAttribute("aria-busy","false"),t.continueButton.removeAttribute("disabled"),t.continueButton.animate([{transform:"translate(24px)",offset:0},{transform:"translate(-24px)",offset:.2},{transform:"translate(16px)",offset:.4},{transform:"translate(-16px)",offset:.6},{transform:"translate(8px)",offset:.8},{transform:"translate(0px)",offset:1}],{duration:400})})),n[0].element.focus(),n[0].element.selectionStart=n[0].element.value.length,!1)}},{key:"validateField",value:function(e){var t=this.fields.find((function(t){return t.id===e.id}));if(t&&t.isObserved&&0!==t.rules.length){var n=t.element.parentNode.querySelector(".ErrorMessages");try{this.runValidation(t),t.element.style.border="",n&&(n.style.display="none")}catch(e){if(e.name!==c.VALIDATION_ERROR)throw console.error(e),e;var r=t.element.nextElementSibling;r&&""===r.getAttribute("data-address-civic-number-warning")&&r.parentNode.removeChild(r),t.element.style.border="2px solid red",n||((n=document.createElement("div")).classList.add("ErrorMessages"),n.style.color="red",n.style.fontWeight="bold",t.element.parentNode.appendChild(n)),n.innerHTML="\n        <ul>".concat(t.errors.map((function(e){var t=e.message;return"<li>".concat(t,"</li>")})),"</ul>\n      "),n.style.display="block"}}}},{key:"runValidation",value:function(e){var t=e.id,n=e.element,r=e.rules.map((function(e){var t=e.regex,r=e.error;return n.value.trim().match(t)?null:{field:n,message:r.message}})).filter((function(e){return e}));if(this.fields.find((function(e){return e.id===t})).errors=r,r.length>0)throw new u("Validation failed.")}},{key:"registerFields",value:function(e){var t=this;e.forEach((function(e){var n=e.id,r=e.rules,o=document.getElementById(n);t.fields.push({id:n,rules:r,element:o,isObserved:!!o,errors:[]}),o&&["input","change"].forEach((function(e){o.addEventListener(e,(function(e){var n=e.target;return t.validateField(n)}))}))}))}}])&&d(t.prototype,n),e}();!function(){var e=window.tierliebhaber,t=e.checkout,n=e.i18n,r=[{id:"checkout_shipping_address_address1",element:{value:t.shippingAddress.address1},rules:[{regex:/\d/i,error:{message:n.checkout.addressValidator.address1.missingCivicNumber}}]}],o=new f(r);if("shipping_method"===window.Shopify.Checkout.step)try{r.forEach((function(e){o.runValidation(e)}))}catch(e){e.name===c.VALIDATION_ERROR&&function(e){var t=e.title,n=e.text,r=e.buttonText,o=document.createElement("style");o.innerHTML="\n    .ErrorModal {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.8);\n        -webkit-backdrop-filter: saturate(180%) blur(8px);\n        backdrop-filter: saturate(180%) blur(8px);\n        z-index: 999;\n    }\n\n    .ErrorModal__Container {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        width: 100%;\n        max-width: 400px;\n        height: auto;\n        padding: 20px;\n        border-radius: 4px;\n        box-sizing: border-box;\n        background: #f9f9f9;\n    }\n\n    @media only screen and (max-width: 399px) {\n        .ErrorModal__Container {\n            bottom: 0;\n            left: 0;\n        }\n    }\n\n    @media only screen and (min-width: 400px) {\n        .ErrorModal__Container {\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n        }\n    }\n\n    .ErrorModal__Title {\n        margin-bottom: 8px;\n        font-weight: 600;\n    }\n\n    .ErrorModal__Text {\n        margin-bottom: 16px;\n        line-height: 1.333em;\n    }\n  ",document.body.appendChild(o);var i=document.createElement("div");i.classList.add("ErrorModal"),i.innerHTML='\n    <div class="ErrorModal__Container">\n      <h2 class="ErrorModal__Title">'.concat(t,'</h2>\n      <p class="ErrorModal__Text">').concat(n,'</p>\n      <a\n        class="btn"\n        href="?step=contact_information&address_error=checkout_shipping_address_address1"\n        >\n        ').concat(r,"\n      </a>\n    </div>\n  "),document.body.appendChild(i)}({title:n.checkout.addressValidator.errorModal.title,text:n.checkout.addressValidator.errorModal.text,buttonText:n.checkout.addressValidator.errorModal.buttonText})}}()})()})();